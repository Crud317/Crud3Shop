<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD3 SHOP | Professional Elite</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>

    <style>
        :root { --bg: #050505; --accent: #e11d48; --card: #0c0c0c; --border: rgba(255, 255, 255, 0.08); }
        body { background-color: var(--bg); color: #fff; font-family: 'Plus Jakarta Sans', sans-serif; overflow: hidden; margin: 0; }
        
        /* Full Animated Background Clouds */
        .cloud-bg { position: absolute; width: 600px; height: 600px; background: radial-gradient(circle, rgba(225, 29, 72, 0.1) 0%, transparent 70%); z-index: -1; filter: blur(80px); animation: move 20s infinite alternate; }
        @keyframes move { from { transform: translate(-20%, -20%); } to { transform: translate(30%, 30%); } }

        /* SPA Navigation System */
        .section-view { display: none; opacity: 0; transform: translateY(15px); transition: 0.4s ease; }
        .section-view.active { display: block; opacity: 1; transform: translateY(0); }

        /* Sidebar Styling */
        .nav-link.active { background: linear-gradient(90deg, rgba(225, 29, 72, 0.15) 0%, transparent 100%); border-left: 4px solid var(--accent); color: #fff; }

        /* Notification Bubbles (Toasts) */
        #toast-container { position: fixed; top: 20px; right: 20px; z-index: 1000; }
        .toast { background: #111; border: 1px solid var(--accent); padding: 14px 24px; border-radius: 16px; margin-bottom: 10px; display: flex; align-items: center; gap: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.6); animation: slideIn 0.3s ease forwards; }
        @keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } }

        /* Checkout Modal (Windows) */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); backdrop-filter: blur(12px); z-index: 100; display: none; align-items: center; justify-content: center; }
        .stripe-input { background: #000; border: 1px solid var(--border); padding: 16px; border-radius: 12px; }

        /* Reviews Cards */
        .rev-card { background: var(--card); border: 1px solid var(--border); padding: 20px; border-radius: 20px; }
    </style>
</head>
<body class="flex h-screen w-screen">

    <div class="cloud-bg" style="top: -100px; left: -100px;"></div>
    <div class="cloud-bg" style="bottom: -100px; right: -100px; animation-delay: -5s;"></div>
    <div id="toast-container"></div>

    <aside class="w-72 bg-[#080808] border-r border-white/5 flex flex-col z-50">
        <div class="p-8 flex items-center gap-3">
            <div class="w-10 h-10 bg-rose-600 rounded-xl flex items-center justify-center font-bold text-xl italic shadow-lg shadow-rose-600/30">C</div>
            <h1 class="text-xl font-extrabold tracking-tighter uppercase italic">CRUD3 <span class="text-rose-600">SHOP</span></h1>
        </div>
        <nav class="flex-1 px-4 space-y-1">
            <p class="text-[10px] font-bold text-zinc-600 uppercase tracking-[2px] ml-4 mb-4">Marketplace</p>
            <button onclick="router('store')" id="btn-store" class="nav-link active w-full flex items-center gap-4 px-4 py-4 rounded-xl text-zinc-400 hover:text-white transition">
                <i class="fa-solid fa-shop"></i> <span class="text-sm font-bold uppercase tracking-wider">Products</span>
            </button>
            <button onclick="router('reviews')" id="btn-reviews" class="nav-link w-full flex items-center gap-4 px-4 py-4 rounded-xl text-zinc-400 hover:text-white transition">
                <i class="fa-solid fa-star"></i> <span class="text-sm font-bold uppercase tracking-wider">Reviews</span>
            </button>
            <button onclick="router('faq')" id="btn-faq" class="nav-link w-full flex items-center gap-4 px-4 py-4 rounded-xl text-zinc-400 hover:text-white transition">
                <i class="fa-solid fa-circle-question"></i> <span class="text-sm font-bold uppercase tracking-wider">FAQ</span>
            </button>
            <button onclick="router('tos')" id="btn-tos" class="nav-link w-full flex items-center gap-4 px-4 py-4 rounded-xl text-zinc-400 hover:text-white transition">
                <i class="fa-solid fa-file-shield"></i> <span class="text-sm font-bold uppercase tracking-wider">Terms</span>
            </button>
        </nav>
        <div class="p-6">
            <a href="https://discord.gg/wxCNQCNn" class="w-full bg-[#5865f2] py-4 rounded-2xl flex items-center justify-center gap-2 font-bold text-xs hover:opacity-80 transition uppercase tracking-widest text-white decoration-none">
                <i class="fa-brands fa-discord text-lg"></i> Discord Server
            </a>
        </div>
    </aside>

    <main class="flex-1 flex flex-col overflow-hidden relative">
        <header class="h-24 border-b border-white/5 flex items-center justify-between px-10 bg-[#050505]/60 backdrop-blur-xl z-40">
            <div class="relative">
                <i class="fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-zinc-600"></i>
                <input type="text" id="searchInput" oninput="shop.render()" placeholder="Search items..." class="bg-white/5 border border-white/10 rounded-2xl py-3 pl-12 pr-6 text-sm focus:border-rose-600 outline-none w-80 transition text-white">
            </div>
            <div class="bg-green-500/10 border border-green-500/20 px-4 py-2 rounded-full flex items-center gap-3">
                <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                <span class="text-[10px] font-black text-green-500 uppercase tracking-widest">Live Status</span>
            </div>
        </header>

        <div class="flex-1 overflow-y-auto p-12">
            
            <section id="view-store" class="section-view active">
                <div class="flex justify-between items-end mb-10">
                    <div>
                        <h2 class="text-4xl font-black italic uppercase tracking-tighter">Market<span class="text-rose-600">place</span></h2>
                        <p class="text-zinc-500 text-sm mt-1">Select an item to proceed with checkout.</p>
                    </div>
                </div>
                <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"></div>
            </section>

            <section id="view-reviews" class="section-view max-w-5xl mx-auto">
                <h2 class="text-3xl font-black italic uppercase mb-10">Customer <span class="text-rose-600">Feedback</span></h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="reviews-list">
                    <div class="rev-card">
                        <div class="flex text-yellow-500 text-xs mb-3"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div>
                        <p class="text-zinc-300 italic text-sm">"Instant delivery and great support. 10/10!"</p>
                        <p class="text-rose-600 font-bold text-[10px] uppercase mt-4 tracking-widest">@Vex_User</p>
                    </div>
                </div>
            </section>

            <section id="view-faq" class="section-view max-w-2xl mx-auto">
                <h2 class="text-3xl font-black italic uppercase mb-8">FAQ</h2>
                <div class="space-y-4">
                    <div class="bg-[#0c0c0c] p-6 rounded-3xl border border-white/5">
                        <p class="font-bold text-white uppercase text-xs tracking-widest mb-2">Is this service automated?</p>
                        <p class="text-zinc-500 text-sm">Yes, once the transaction is verified, our system logs your request instantly.</p>
                    </div>
                </div>
            </section>

            <section id="view-tos" class="section-view max-w-2xl mx-auto">
                <h2 class="text-3xl font-black italic uppercase mb-8">Terms of <span class="text-rose-600">Service</span></h2>
                <div class="bg-[#0c0c0c] p-8 rounded-3xl border border-white/5 text-zinc-400 text-sm space-y-4">
                    <p>1. No refunds are provided for digital goods.</p>
                    <p>2. We are not responsible for account bans by third parties.</p>
                </div>
            </section>
        </div>
    </main>

    <div id="paymentModal" class="modal-overlay">
        <div class="bg-[#0a0a0a] border border-white/10 w-full max-w-md rounded-[2.5rem] p-10 relative shadow-2xl">
            <button onclick="closeModal()" class="absolute top-8 right-8 text-zinc-600 hover:text-white transition"><i class="fa-solid fa-xmark text-2xl"></i></button>
            
            <h3 class="text-2xl font-black italic uppercase mb-2">Checkout</h3>
            <p class="text-zinc-500 text-[10px] font-bold uppercase tracking-[2px] mb-8">Secure Payment Gateway</p>
            
            <div class="bg-white/5 p-5 rounded-2xl border border-white/5 mb-8 flex justify-between items-center">
                <span id="m-name" class="font-bold text-sm text-zinc-300 uppercase">Item</span>
                <span id="m-price" class="text-rose-500 font-black text-xl">$0.00</span>
            </div>

            <form id="payment-form" class="space-y-6">
                <div>
                    <label class="text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1 mb-2 block">Roblox Username</label>
                    <input type="text" id="rbxUser" required placeholder="Type username..." class="w-full bg-black border border-white/10 p-4 rounded-xl outline-none focus:border-rose-600 transition text-sm text-white">
                </div>

                <div>
                    <label class="text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1 mb-2 block">Card Details</label>
                    <div id="card-element" class="stripe-input"></div>
                    <div id="card-errors" class="text-rose-500 text-[9px] mt-2 font-bold uppercase tracking-widest"></div>
                </div>

                <button id="submit-button" class="w-full bg-rose-600 hover:bg-rose-700 py-5 rounded-2xl font-black text-xs uppercase tracking-[3px] transition shadow-lg shadow-rose-600/20 text-white">
                    Confirm & Pay
                </button>
            </form>
            
            <p class="text-[8px] text-zinc-700 text-center uppercase font-bold mt-8 tracking-widest">
                <i class="fa-solid fa-shield-halved"></i> Encrypted Transaction
            </p>
        </div>
    </div>

    <script>
        // --- 1. PRODUCT DATABASE ---
        const PRODUCTS = [
            { id: 1, name: "Epic Devil Blade", price: 15.00, img: "" },
            { id: 2, name: "Max Account Level", price: 49.99, img: "" },
            { id: 3, name: "Dark Blade V3", price: 25.00, img: "" },
            { id: 4, name: "Currency Pack", price: 9.99, img: "" }
        ];

        // --- 2. STRIPE SETUP ---
        // REPLACE WITH YOUR REAL KEY (pk_test_...)
        const stripe = Stripe('pk_test_51Pxxxxxxxxxxxxxxx'); 
        const elements = stripe.elements();
        const card = elements.create("card", {
            style: {
                base: {
                    color: "#ffffff",
                    fontFamily: '"Plus Jakarta Sans", sans-serif',
                    fontSize: "14px",
                    "::placeholder": { color: "#52525b" }
                }
            }
        });

        // --- 3. SHOP ENGINE ---
        const shop = {
            render() {
                const grid = document.getElementById('product-grid');
                const search = document.getElementById('searchInput').value.toLowerCase();
                grid.innerHTML = PRODUCTS.filter(p => p.name.toLowerCase().includes(search)).map(p => `
                    <div class="bg-[#0c0c0c] border border-white/5 rounded-[2.5rem] p-6 hover:border-rose-600 transition group cursor-pointer" onclick="openModal(${p.id})">
                        <div class="h-40 bg-black/50 rounded-3xl mb-6 flex items-center justify-center border border-white/5 overflow-hidden">
                            ${p.img ? `<img src="${p.img}" class="h-2/3 group-hover:scale-110 transition duration-500">` : `<i class="fa-solid fa-box-open text-3xl text-zinc-900"></i>`}
                        </div>
                        <h3 class="font-bold text-zinc-200 group-hover:text-rose-600 transition mb-4 uppercase text-[12px] tracking-widest">${p.name}</h3>
                        <div class="flex justify-between items-center pt-4 border-t border-white/5">
                            <span class="text-xl font-black italic">$${p.price.toFixed(2)}</span>
                            <div class="bg-white/5 text-zinc-500 text-[9px] font-black px-4 py-2 rounded-xl group-hover:bg-rose-600 group-hover:text-white transition uppercase">Buy Now</div>
                        </div>
                    </div>
                `).join('');
            }
        };

        // --- 4. SPA ROUTING ---
        function router(id) {
            document.querySelectorAll('.section-view').forEach(v => v.classList.remove('active'));
            document.getElementById('view-' + id).classList.add('active');
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById('btn-' + id).classList.add('active');
            toast("Switching to " + id.toUpperCase(), "fa-eye");
        }

        // --- 5. PAYMENT WINDOWS ---
        function openModal(id) {
            const item = PRODUCTS.find(p => p.id === id);
            document.getElementById('m-name').innerText = item.name;
            document.getElementById('m-price').innerText = `$${item.price.toFixed(2)}`;
            document.getElementById('paymentModal').style.display = 'flex';
            card.mount("#card-element");
            toast("Securing Payment...", "fa-lock");
        }

        function closeModal() {
            document.getElementById('paymentModal').style.display = 'none';
        }

        const form = document.getElementById('payment-form');
        form.addEventListener('submit', async (event) => {
            event.preventDefault();
            const submitBtn = document.getElementById('submit-button');
            submitBtn.disabled = true;
            toast("Validating Order...", "fa-spinner fa-spin");

            const {token, error} = await stripe.createToken(card);

            if (error) {
                document.getElementById('card-errors').textContent = error.message;
                toast("Payment Error", "fa-xmark");
                submitBtn.disabled = false;
            } else {
                toast("Success! Redirecting...", "fa-check");
                setTimeout(() => window.location.href = "https://discord.gg/wxCNQCNn", 1500);
            }
        });

        // --- 6. TOAST NOTIFICATIONS ---
        function toast(msg, icon) {
            const container = document.getElementById('toast-container');
            const t = document.createElement('div');
            t.className = 'toast';
            t.innerHTML = `<i class="fa-solid ${icon} text-rose-500"></i> <span class="text-[10px] font-black uppercase tracking-widest">${msg}</span>`;
            container.appendChild(t);
            setTimeout(() => { t.style.opacity = '0'; setTimeout(() => t.remove(), 400); }, 3000);
        }

        window.onload = () => shop.render();
    </script>
</body>
</html>
