<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD3 SHOP | The Excellence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --accent: #ff0000; /* ROJO CRUD3 */
            --accent-dark: #cc0000;
            --bg: #050505;
            --card-bg: #0a0a0a;
        }

        body {
            background-color: var(--bg);
            color: white;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        /* --- BACKGROUND PARTICLES --- */
        #canvas { position: fixed; top: 0; left: 0; z-index: -1; pointer-events: none; }

        /* --- NAVIGATION --- */
        .nav-link {
            color: #a1a1aa;
            font-weight: 700;
            transition: 0.3s;
            cursor: pointer;
            font-size: 13px;
            text-transform: uppercase;
        }
        .nav-link:hover, .nav-active { color: white; text-shadow: 0 0 10px rgba(255, 0, 0, 0.5); }

        /* --- CATEGORY CARDS --- */
        .cat-card {
            background: var(--card-bg);
            border: 1px solid rgba(255,255,255,0.05);
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }
        .cat-card:hover { border-color: var(--accent); transform: translateY(-8px); box-shadow: 0 10px 30px rgba(255,0,0,0.1); }

        /* --- MODALS --- */
        .modal-overlay {
            position: fixed; inset: 0;
            background: rgba(0,0,0,0.92);
            backdrop-filter: blur(8px);
            z-index: 1000;
            display: none;
            overflow-y: auto;
            padding: 40px 20px;
        }

        /* --- BOTONES --- */
        .btn-primary {
            background: var(--accent);
            transition: 0.3s;
            color: white;
            font-weight: 900;
        }
        .btn-primary:hover { background: white; color: black; box-shadow: 0 0 30px rgba(255, 0, 0, 0.4); }
        
        input, select {
            background: #111;
            border: 1px solid #222;
            color: white;
            outline: none;
        }
        input:focus { border-color: var(--accent); }

        .red-glow { filter: drop-shadow(0 0 8px rgba(255,0,0,0.6)); }
        .step-line { height: 2px; flex-grow: 1; background: #222; margin: 0 10px; }
    </style>
</head>
<body>

<canvas id="canvas"></canvas>

<nav class="h-20 flex items-center justify-between px-12 sticky top-0 bg-black/80 backdrop-blur-md z-50 border-b border-red-600/10">
    <div class="flex items-center gap-3 cursor-pointer" onclick="nav('home')">
        <div class="relative red-glow">
            <i class="fa-solid fa-cloud text-3xl text-red-600"></i>
            <span class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[10px] font-black text-white mt-1">3</span>
        </div>
        <span class="text-2xl font-black italic tracking-tighter">CRUD3 <span class="text-red-600">SHOP</span></span>
    </div>

    <div class="hidden md:flex gap-8">
        <span onclick="nav('home')" class="nav-link nav-active">Home</span>
        <span onclick="nav('products')" class="nav-link">Products</span>
        <span onclick="nav('reviews')" class="nav-link">Reviews</span>
        <span class="nav-link">Status</span>
        <span onclick="showLogin()" class="nav-link">Login</span>
    </div>

    <div class="flex items-center gap-5">
        <select onchange="updateCurrency(this.value)" class="bg-transparent border-none text-zinc-500 font-bold text-sm cursor-pointer outline-none">
            <option value="USD">$ USD</option>
            <option value="EUR">€ EUR</option>
            <option value="GBP">£ GBP</option>
            <option value="ARS">$ ARS</option>
        </select>
        
        <div onclick="startCheckout()" class="relative cursor-pointer w-10 h-10 bg-red-600/10 border border-red-600/20 rounded-lg flex items-center justify-center text-red-500 hover:bg-red-600 hover:text-white transition">
            <i class="fa-solid fa-cart-shopping"></i>
            <span id="cart-count" class="absolute -top-2 -right-2 bg-red-600 text-white text-[10px] w-5 h-5 rounded-full flex items-center justify-center font-bold">0</span>
        </div>
    </div>
</nav>

<div id="view-home" class="view min-h-screen flex flex-col items-center justify-center text-center px-4">
    <h1 class="text-8xl font-black mb-6 italic">Welcome to <span class="text-red-600 red-glow">CRUD3!</span></h1>
    <p class="text-zinc-500 text-xl mb-12">The Excellence in Digital Assets & Professional Services.</p>
    <div class="w-full max-w-2xl relative mb-10">
        <i class="fa-solid fa-magnifying-glass absolute left-6 top-1/2 -translate-y-1/2 text-zinc-600"></i>
        <input type="text" placeholder="Search for items..." class="w-full py-5 pl-16 pr-6 rounded-xl text-lg bg-white/5 border-white/5">
    </div>
    <button onclick="nav('products')" class="btn-primary px-10 py-4 rounded-lg font-black text-lg flex items-center gap-3">
        View Products <i class="fa-solid fa-cart-shopping"></i>
    </button>
</div>

<div id="view-products" class="view hidden p-20">
    <h2 class="text-4xl font-black text-center mb-16 italic uppercase">Our <span class="text-red-600">Inventory</span></h2>
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div class="cat-card p-6 rounded-2xl" onclick="openCategory('Items')">
            <img src="https://i.postimg.cc/q7fW3G8B/items-dh.png" class="w-full rounded-lg mb-4 h-40 object-cover">
            <h3 class="text-center font-bold text-lg">Items(DH)</h3>
            <div class="flex justify-between mt-4 text-sm font-bold text-red-500">
                <span id="p-items-price">$0.10 - $6.99</span>
                <span class="text-zinc-500">11 Products</span>
            </div>
        </div>
        <div class="cat-card p-6 rounded-2xl" onclick="openCategory('Account')">
            <img src="https://i.postimg.cc/W3zD8z8Z/account-dh.png" class="w-full rounded-lg mb-4 h-40 object-cover">
            <h3 class="text-center font-bold text-lg">Account(DH)</h3>
            <div class="flex justify-between mt-4 text-sm font-bold text-red-500">
                <span id="p-acc-price">$4.99</span>
                <span class="text-zinc-500">2 Products</span>
            </div>
        </div>
        <div class="cat-card p-6 rounded-2xl" onclick="openCategory('Farm')">
            <img src="https://i.postimg.cc/9F4P5p2h/farm-dh.png" class="w-full rounded-lg mb-4 h-40 object-cover">
            <h3 class="text-center font-bold text-lg">farm(DH)</h3>
            <div class="flex justify-between mt-4 text-sm font-bold text-red-500">
                <span id="p-farm-price">$2.99</span>
                <span class="text-zinc-500">1 Product</span>
            </div>
        </div>
        <div class="cat-card p-6 rounded-2xl" onclick="openCategory('Yen')">
            <img src="https://i.postimg.cc/8P2zG8p5/yen-dh.png" class="w-full rounded-lg mb-4 h-40 object-cover">
            <h3 class="text-center font-bold text-lg">Yen(DH)</h3>
            <div class="flex justify-between mt-4 text-sm font-bold text-red-500">
                <span id="p-yen-price">$2.99 - $4.99</span>
                <span class="text-zinc-500">2 Products</span>
            </div>
        </div>
    </div>
</div>

<div id="modal-category" class="modal-overlay">
    <div class="max-w-6xl mx-auto">
        <div class="flex justify-between items-center mb-10">
            <h2 id="cat-title" class="text-3xl font-black italic">Category</h2>
            <i onclick="closeAll()" class="fa-solid fa-xmark text-3xl cursor-pointer text-zinc-600 hover:text-white transition"></i>
        </div>
        <div id="cat-grid" class="grid grid-cols-1 md:grid-cols-4 gap-6"></div>
    </div>
</div>

<div id="modal-detail" class="modal-overlay">
    <div class="max-w-5xl mx-auto bg-[#080808] rounded-2xl border border-white/5 overflow-hidden flex flex-col md:flex-row mt-10">
        <div class="md:w-3/5 p-8">
            <h2 id="detail-name" class="text-3xl font-black mb-6 italic">Product Name</h2>
            <img id="detail-img" src="" class="w-full rounded-xl border border-white/5 h-80 object-cover">
        </div>
        <div class="md:w-2/5 bg-[#0c0c0c] p-10 border-l border-white/5 flex flex-col justify-center">
            <div class="flex justify-between items-start mb-10">
                <div>
                    <span id="detail-price" class="text-4xl font-black text-red-600">$0.00</span>
                    <p class="text-zinc-600 text-xs mt-1 italic">Premium Delivery</p>
                </div>
                <span id="detail-stock" class="text-zinc-500 font-bold text-sm">In Stock</span>
            </div>

            <div class="mb-8">
                <label class="block text-xs font-bold text-zinc-500 uppercase tracking-widest mb-3">Quantity</label>
                <div class="flex items-center bg-black border border-white/10 rounded-lg p-1">
                    <button onclick="changeQty(-1)" class="w-12 h-12 flex items-center justify-center hover:text-red-500 transition"><i class="fa-solid fa-minus"></i></button>
                    <input type="number" id="prod-qty" value="1" class="flex-1 bg-transparent border-none text-center font-bold text-lg">
                    <button onclick="changeQty(1)" class="w-12 h-12 flex items-center justify-center hover:text-red-500 transition"><i class="fa-solid fa-plus"></i></button>
                </div>
            </div>

            <div class="flex flex-col gap-4">
                <button onclick="addToCart()" class="btn-primary py-4 rounded-lg font-black flex items-center justify-center gap-3">
                    Add to Cart <i class="fa-solid fa-cart-plus"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<div id="modal-checkout" class="modal-overlay">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row gap-10 mt-10">
        <div class="md:w-1/3 bg-[#0a0a0a] p-8 rounded-2xl border border-white/5 h-fit">
            <div class="flex justify-between mb-8">
                <span class="text-2xl font-black italic">CRUD3 <span class="text-red-600">Shop</span></span>
                <i onclick="closeAll()" class="fa-solid fa-xmark cursor-pointer text-zinc-500"></i>
            </div>
            <p class="text-zinc-500 text-sm mb-2">Order Summary</p>
            <h3 id="checkout-total-big" class="text-5xl font-black mb-10 text-red-600">$0.00</h3>
            
            <div id="checkout-items-list" class="space-y-6 border-t border-white/5 pt-6 mb-10"></div>

            <div class="border-t border-white/5 pt-6 space-y-2">
                <div class="flex justify-between font-bold text-xl"><p>Total</p><p id="total-price-final">$0.00</p></div>
            </div>
        </div>

        <div class="md:w-2/3">
            <form action="https://formsubmit.co/upboy2006lm@gmail.com" method="POST" class="space-y-8 bg-[#080808] p-10 rounded-2xl border border-white/5">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="Pedido_Detalle" id="form-order-data">
                
                <div>
                    <label class="block font-bold mb-3">Correo electrónico *</label>
                    <input type="email" name="email" required placeholder="tu@email.com" class="w-full p-4 rounded-lg">
                </div>
                <div>
                    <label class="block font-bold mb-3">Discord User (Optional)</label>
                    <input type="text" name="discord" placeholder="Usuario#0000" class="w-full p-4 rounded-lg">
                </div>
                <div>
                    <label class="block font-bold mb-3">Payment Method</label>
                    <div class="bg-red-600/5 border border-red-600 p-4 rounded-lg flex justify-between">
                        <span>Direct Payment / PayPal</span>
                        <i class="fa-brands fa-paypal text-blue-500"></i>
                    </div>
                </div>
                <button type="submit" class="w-full btn-primary py-5 rounded-lg font-black text-xl">Confirmar y Pagar</button>
            </form>
        </div>
    </div>
</div>

<script>
    // --- DATABASE ---
    const DB = {
        Items: [
            { id: 1, name: "Katana Frags", price: 1.99, img: "https://i.postimg.cc/q7fW3G8B/items-dh.png", stock: "6 In Stock" },
            { id: 2, name: "Undead sickles", price: 2.49, img: "https://i.postimg.cc/q7fW3G8B/items-dh.png", stock: "Out of Stock" },
            { id: 4, name: "Common Flesh", price: 0.10, img: "https://i.postimg.cc/q7fW3G8B/items-dh.png", stock: "10 In Stock" }
        ],
        Account: [
            { id: 5, name: "Account Farm", price: 4.99, img: "https://i.postimg.cc/W3zD8z8Z/account-dh.png", stock: "In Stock" },
            { id: 6, name: "Weapon Mastery", price: 4.99, img: "https://i.postimg.cc/W3zD8z8Z/account-dh.png", stock: "In Stock" }
        ],
        Farm: [
            { id: 7, name: "Leveling Farm", price: 2.99, img: "https://i.postimg.cc/9F4P5p2h/farm-dh.png", stock: "1 In Stock" }
        ],
        Yen: [
            { id: 8, name: "500K YEN", price: 2.99, img: "https://i.postimg.cc/8P2zG8p5/yen-dh.png", stock: "In Stock" },
            { id: 9, name: "1M YEN", price: 4.99, img: "https://i.postimg.cc/8P2zG8p5/yen-dh.png", stock: "In Stock" }
        ]
    };

    let cart = [];
    let currentProd = null;
    let exchange = 1;
    let symbol = "$";

    // --- CURRENCY LOGIC ---
    function updateCurrency(val) {
        if(val === "EUR") { exchange = 0.92; symbol = "€"; }
        else if(val === "GBP") { exchange = 0.79; symbol = "£"; }
        else if(val === "ARS") { exchange = 800; symbol = "$"; }
        else { exchange = 1; symbol = "$"; }
        closeAll();
        updateCartCount();
    }

    // --- NAVIGATION ---
    function nav(id) {
        document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
        document.getElementById('view-' + id).classList.remove('hidden');
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('nav-active'));
        if(event) event.target.classList.add('nav-active');
        window.scrollTo(0,0);
    }

    // --- SHOP LOGIC ---
    function openCategory(cat) {
        const grid = document.getElementById('cat-grid');
        document.getElementById('cat-title').innerText = cat + "(DH)";
        grid.innerHTML = DB[cat].map(p => `
            <div class="cat-card p-4 rounded-xl" onclick="viewProd('${cat}', ${p.id})">
                <img src="${p.img}" class="w-full rounded-lg mb-4 h-32 object-cover">
                <h4 class="font-bold text-center mb-2 text-zinc-300 text-sm">${p.name}</h4>
                <div class="flex justify-between items-center text-xs font-bold mb-4">
                    <span class="text-red-500">${symbol}${(p.price * exchange).toFixed(2)}</span>
                    <span class="text-zinc-500">${p.stock}</span>
                </div>
                <button class="w-full border border-red-600/30 py-2 rounded text-[10px] uppercase font-bold hover:bg-red-600 transition">View Details</button>
            </div>
        `).join('');
        document.getElementById('modal-category').style.display = 'block';
    }

    function viewProd(cat, id) {
        currentProd = DB[cat].find(p => p.id === id);
        document.getElementById('detail-name').innerText = currentProd.name;
        document.getElementById('detail-price').innerText = symbol + (currentProd.price * exchange).toFixed(2);
        document.getElementById('detail-img').src = currentProd.img;
        document.getElementById('detail-stock').innerText = currentProd.stock;
        document.getElementById('modal-detail').style.display = 'block';
    }

    function changeQty(v) {
        let input = document.getElementById('prod-qty');
        let val = parseInt(input.value) + v;
        if(val > 0) input.value = val;
    }

    function addToCart() {
        const qty = parseInt(document.getElementById('prod-qty').value);
        cart.push({ ...currentProd, qty: qty });
        updateCartCount();
        closeAll();
    }

    function updateCartCount() {
        document.getElementById('cart-count').innerText = cart.length;
    }

    function startCheckout() {
        if(cart.length === 0) return alert("Tu carrito está vacío");
        const list = document.getElementById('checkout-items-list');
        let total = 0;
        
        list.innerHTML = cart.map(item => {
            let itemPriceTotal = (item.price * exchange * item.qty);
            total +=
