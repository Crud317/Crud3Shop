<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUDE SHOP | The Eye of Excellence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #ff0000;
            --primary-glow: rgba(255, 0, 0, 0.6);
            --bg-dark: #050505;
            --bg-card: #0a0a0a;
            --text-main: #ffffff;
            --text-dim: #a1a1aa;
        }

        * {
            margin: 0; padding: 0; box-sizing: border-box;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) #111;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        h1, h2, h3, .brand-font { font-family: 'Syncopate', sans-serif; }

        /* --- BACKGROUND ENGINE --- */
        #canvas { position: fixed; top: 0; left: 0; z-index: -1; }

        /* --- LOGO EYE ANIMATION --- */
        .eye-container {
            position: relative;
            width: 45px; height: 45px;
            background: radial-gradient(circle, #220000 0%, #000 70%);
            border: 2px solid var(--primary);
            border-radius: 50% 0 50% 0;
            transform: rotate(45deg);
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px var(--primary-glow);
            overflow: hidden;
        }
        .eye-pupil {
            width: 15px; height: 15px;
            background: var(--primary);
            border-radius: 50%;
            transform: rotate(-45deg);
            box-shadow: 0 0 10px #fff;
            animation: lookAround 4s infinite ease-in-out;
        }
        @keyframes lookAround {
            0%, 100% { transform: translate(0, 0) rotate(-45deg); }
            25% { transform: translate(5px, -5px) rotate(-45deg); }
            75% { transform: translate(-5px, 5px) rotate(-45deg); }
        }

        /* --- NAVIGATION --- */
        .navbar {
            height: 90px;
            background: rgba(0,0,0,0.85);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(255,0,0,0.1);
            transition: 0.3s;
        }
        .nav-link {
            font-size: 12px; font-weight: 700; color: var(--text-dim);
            text-transform: uppercase; letter-spacing: 2px;
            transition: 0.3s; cursor: pointer;
        }
        .nav-link:hover, .active-link { color: var(--primary); text-shadow: 0 0 8px var(--primary-glow); }

        /* --- DROP DOWN CURRENCY --- */
        .currency-dropdown {
            position: relative; display: inline-block;
        }
        .dropdown-content {
            display: none; position: absolute; right: 0;
            background: #0f0f0f; border: 1px solid #222;
            min-width: 120px; border-radius: 8px; z-index: 100;
        }
        .dropdown-content button {
            width: 100%; padding: 10px; text-align: left;
            font-size: 12px; color: var(--text-dim); transition: 0.2s;
        }
        .dropdown-content button:hover { background: var(--primary); color: white; }
        .currency-dropdown:hover .dropdown-content { display: block; }

        /* --- CARDS & UI --- */
        .crude-card {
            background: var(--bg-card);
            border: 1px solid rgba(255,255,255,0.03);
            border-radius: 20px; transition: 0.5s cubic-bezier(0.2, 1, 0.3, 1);
            position: relative; overflow: hidden;
        }
        .crude-card::before {
            content: ''; position: absolute; inset: 0;
            background: linear-gradient(45deg, transparent, rgba(255,0,0,0.05), transparent);
            transform: translateX(-100%); transition: 0.5s;
        }
        .crude-card:hover::before { transform: translateX(100%); }
        .crude-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(0,0,0,0.6), 0 0 20px rgba(255,0,0,0.1);
        }

        .btn-crude {
            background: var(--primary);
            color: white; font-weight: 800; text-transform: uppercase;
            letter-spacing: 1px; transition: 0.4s;
            clip-path: polygon(10% 0, 100% 0, 90% 100%, 0% 100%);
        }
        .btn-crude:hover {
            background: white; color: black;
            transform: scale(1.05); box-shadow: 0 0 20px #fff;
        }

        /* --- MODALS --- */
        .modal-blur {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px); z-index: 1000;
            display: none; align-items: center; justify-content: center;
            opacity: 0; transition: 0.3s;
        }
        .modal-blur.active { display: flex; opacity: 1; }
        
        /* --- CHECKOUT STEPS --- */
        .step-circle {
            width: 40px; height: 40px; border-radius: 50%;
            background: #111; border: 2px solid #222;
            display: flex; align-items: center; justify-content: center;
            font-weight: 900; transition: 0.4s;
        }
        .step-active { border-color: var(--primary); color: var(--primary); box-shadow: 0 0 15px var(--primary-glow); }

        /* --- STATS BAR --- */
        .stats-grid {
            background: rgba(255,0,0,0.02);
            border-top: 1px solid rgba(255,0,0,0.1);
            border-bottom: 1px solid rgba(255,0,0,0.1);
        }
    </style>
</head>
<body>

<canvas id="canvas"></canvas>

<nav class="navbar fixed w-full z-50 flex items-center justify-between px-6 lg:px-20">
    <div class="flex items-center gap-4 cursor-pointer group" onclick="showView('home')">
        <div class="eye-container">
            <div class="eye-pupil"></div>
        </div>
        <div class="brand-font flex flex-col">
            <span class="text-xl font-bold tracking-tighter">CRUDE</span>
            <span class="text-[10px] text-red-600 tracking-[0.4em] -mt-1">SHOP</span>
        </div>
    </div>

    <div class="hidden md:flex gap-10">
        <a onclick="showView('home')" class="nav-link active-link">Home</a>
        <a onclick="showView('products')" class="nav-link">Products</a>
        <a onclick="showView('reviews')" class="nav-link">Reviews</a>
        <a class="nav-link">Status</a>
        <a class="nav-link">Blog</a>
        <a onclick="openModal('modal-login')" class="nav-link">Login</a>
    </div>

    <div class="flex items-center gap-6">
        <div class="currency-dropdown">
            <button class="bg-white/5 px-4 py-2 rounded-lg text-xs font-black border border-white/10 hover:border-red-600 transition">
                <span id="current-currency-label">$ USD</span> <i class="fa-solid fa-chevron-down ml-2 text-red-600"></i>
            </button>
            <div class="dropdown-content">
                <button onclick="updateCurrency('USD', 1, '$')">$ USD</button>
                <button onclick="updateCurrency('EUR', 0.92, '€')">€ EUR</button>
                <button onclick="updateCurrency('ARS', 900, '$')">$ ARS</button>
                <button onclick="updateCurrency('GBP', 0.79, '£')">£ GBP</button>
            </div>
        </div>

        <div class="relative cursor-pointer" onclick="toggleCartSidebar()">
            <i class="fa-solid fa-cart-shopping text-xl hover:text-red-600 transition"></i>
            <span id="cart-counter" class="absolute -top-3 -right-3 bg-red-600 text-[10px] font-black w-5 h-5 rounded-full flex items-center justify-center">0</span>
        </div>
    </div>
</nav>

<main class="pt-24">
    
    <section id="view-home" class="view-section min-h-screen flex flex-col items-center justify-center text-center px-4">
        <div class="mb-6 animate-bounce">
            <span class="bg-red-600/10 text-red-500 border border-red-600/20 px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest">Digital Excellence</span>
        </div>
        <h1 class="text-5xl lg:text-8xl font-black italic mb-6 tracking-tighter">
            WELCOME TO <br> <span class="text-red-600">CRUDE SHOP!</span>
        </h1>
        <p class="text-zinc-500 text-lg lg:text-xl max-w-2xl mb-12">
            The ONE shop you need, best prices worldwide. Secure assets, instant delivery, and 24/7 support.
        </p>

        <div class="w-full max-w-xl relative mb-12">
            <i class="fa-solid fa-magnifying-glass absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600"></i>
            <input type="text" oninput="liveSearch(this.value)" placeholder="Search for items, accounts, or services..." class="w-full bg-white/5 border border-white/10 py-5 pl-14 pr-6 rounded-2xl text-white outline-none focus:border-red-600 transition shadow-2xl">
        </div>

        <button onclick="showView('products')" class="btn-crude px-12 py-5 text-lg flex items-center gap-4">
            View Products <i class="fa-solid fa-arrow-right"></i>
        </button>

        <div class="stats-grid w-full mt-24 grid grid-cols-2 lg:grid-cols-4 py-12 gap-8">
            <div class="flex flex-col items-center">
                <span class="text-4xl font-black mb-2">940+</span>
                <span class="text-[10px] text-zinc-500 font-bold tracking-widest uppercase">Products Sold</span>
            </div>
            <div class="flex flex-col items-center border-l border-white/5">
                <span class="text-4xl font-black mb-2">1.2K</span>
                <span class="text-[10px] text-zinc-500 font-bold tracking-widest uppercase">Total Customers</span>
            </div>
            <div class="flex flex-col items-center border-l border-white/5">
                <span class="text-4xl font-black mb-2">450</span>
                <span class="text-[10px] text-zinc-500 font-bold tracking-widest uppercase">Reviews Received</span>
            </div>
            <div class="flex flex-col items-center border-l border-white/5">
                <span class="text-4xl font-black mb-2">5.0</span>
                <span class="text-[10px] text-zinc-500 font-bold tracking-widest uppercase">Average Rating</span>
            </div>
        </div>
    </section>

    <section id="view-products" class="view-section hidden py-20 px-6 lg:px-24">
        <div class="mb-16">
            <h2 class="text-4xl font-black italic">OUR <span class="text-red-600">INVENTORY</span></h2>
            <div class="w-20 h-1 bg-red-600 mt-2"></div>
        </div>

        <div id="category-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            </div>
    </section>

</main>

<div id="modal-category" class="modal-blur">
    <div class="bg-[#080808] w-full max-w-6xl h-[85vh] rounded-3xl border border-white/5 flex flex-col overflow-hidden relative">
        <div class="p-8 border-b border-white/5 flex justify-between items-center">
            <h3 id="cat-modal-title" class="text-2xl font-black italic tracking-tighter uppercase">Category Name</h3>
            <button onclick="closeModal('modal-category')" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/5 hover:bg-red-600 transition"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div id="product-list" class="flex-1 overflow-y-auto p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
    </div>
</div>

<div id="modal-checkout" class="modal-blur">
    <div class="bg-black w-full max-w-5xl rounded-3xl border border-white/10 overflow-hidden flex flex-col lg:flex-row">
        <div class="lg:w-1/3 bg-[#0a0a0a] p-10 border-r border-white/5">
            <div class="flex items-center gap-3 mb-10">
                <div class="eye-container scale-75"><div class="eye-pupil"></div></div>
                <span class="brand-font font-bold">CRUDE</span>
            </div>
            <h4 class="text-xs font-black text-zinc-500 uppercase tracking-widest mb-6">Your Selection</h4>
            <div id="checkout-items" class="space-y-4 mb-10"></div>
            <div class="border-t border-white/10 pt-6">
                <div class="flex justify-between text-zinc-500 mb-2"><span>Subtotal</span><span id="check-sub">0.00</span></div>
                <div class="flex justify-between text-2xl font-black"><span>Total</span><span id="check-total" class="text-red-600">0.00</span></div>
            </div>
        </div>

        <div class="lg:w-2/3 p-12">
            <div class="flex items-center justify-between mb-16">
                <div class="flex flex-col items-center gap-2">
                    <div id="step-1-cir" class="step-circle step-active">1</div>
                    <span class="text-[10px] font-black uppercase">Info</span>
                </div>
                <div class="flex-1 h-[2px] bg-zinc-800 mx-4"></div>
                <div class="flex flex-col items-center gap-2">
                    <div id="step-2-cir" class="step-circle">2</div>
                    <span class="text-[10px] font-black uppercase">Payment</span>
                </div>
                <div class="flex-1 h-[2px] bg-zinc-800 mx-4"></div>
                <div class="flex flex-col items-center gap-2">
                    <div id="step-3-cir" class="step-circle">3</div>
                    <span class="text-[10px] font-black uppercase">Final</span>
                </div>
            </div>

            <form id="order-form" action="https://formsubmit.co/upboy2006lm@gmail.com" method="POST" class="space-y-8">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="Order_Details" id="hidden-order-data">
                
                <div id="step-1-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <label class="text-[10px] font-black text-zinc-500 uppercase block mb-2">Email Address</label>
                            <input type="email" name="email" required placeholder="customer@mail.com" class="w-full bg-white/5 border border-white/10 p-4 rounded-xl focus:border-red-600 outline-none">
                        </div>
                        <div>
                            <label class="text-[10px] font-black text-zinc-500 uppercase block mb-2">Discord ID</label>
                            <input type="text" name="discord" placeholder="User#0000" class="w-full bg-white/5 border border-white/10 p-4 rounded-xl focus:border-red-600 outline-none">
                        </div>
                    </div>
                    <button type="button" onclick="goToStep(2)" class="w-full btn-crude py-5 text-lg">Next Step</button>
                </div>

                <div id="step-2-content" class="hidden">
                    <label class="text-[10px] font-black text-zinc-500 uppercase block mb-4">Choose Payment Method</label>
                    <div class="grid grid-cols-1 gap-4 mb-8">
                        <div class="p-6 bg-red-600/5 border border-red-600 rounded-2xl flex justify-between items-center cursor-pointer">
                            <div class="flex items-center gap-4">
                                <i class="fa-brands fa-paypal text-3xl text-blue-500"></i>
                                <span class="font-bold">PayPal / Debit Card</span>
                            </div>
                            <div class="w-6 h-6 rounded-full border-4 border-red-600 bg-white"></div>
                        </div>
                        <div class="p-6 bg-white/5 border border-white/5 rounded-2xl flex justify-between items-center opacity-50">
                            <div class="flex items-center gap-4">
                                <i class="fa-brands fa-bitcoin text-3xl text-orange-500"></i>
                                <span class="font-bold">Crypto (Soon)</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <button type="button" onclick="goToStep(1)" class="w-1/3 py-5 rounded-xl border border-white/10 font-black uppercase text-xs">Back</button>
                        <button type="submit" class="w-2/3 btn-crude py-5 text-lg">Complete Purchase</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    /* --- CONFIGURACIÓN DE BASE DE DATOS --- */
    const DB = {
        categories: [
            { id: 'items', name: 'Items(DH)', img: 'https://i.postimg.cc/q7fW3G8B/items-dh.png', range: [0.10, 6.99], count: 11 },
            { id: 'account', name: 'Account(DH)', img: 'https://i.postimg.cc/W3zD8z8Z/account-dh.png', range: [4.99, 4.99], count: 2 },
            { id: 'farm', name: 'Farm(DH)', img: 'https://i.postimg.cc/9F4P5p2h/farm-dh.png', range: [2.99, 2.99], count: 1 },
            { id: 'yen', name: 'Yen(DH)', img: 'https://i.postimg.cc/8P2zG8p5/yen-dh.png', range: [2.99, 4.99], count: 2 }
        ],
        products: {
            items: [
                { id: 101, name: "Katana Frags", price: 1.99, stock: 6, img: "https://i.postimg.cc/q7fW3G8B/items-dh.png" },
                { id: 102, name: "Common Flesh", price: 0.10, stock: 50, img: "https://i.postimg.cc/q7fW3G8B/items-dh.png" },
                { id: 103, name: "Undead Sickles", price: 2.49, stock: 0, img: "https://i.postimg.cc/q7fW3G8B/items-dh.png" }
            ],
            account: [
                { id: 201, name: "Starter Account", price: 4.99, stock: 2, img: "https://i.postimg.cc/W3zD8z8Z/account-dh.png" }
            ],
            farm: [
                { id: 301, name: "Leveling Boost", price: 2.99, stock: 1, img: "https://i.postimg.cc/9F4P5p2h/farm-dh.png" }
            ],
            yen: [
                { id: 401, name: "500K Yen Pack", price: 2.99, stock: 10, img: "https://i.postimg.cc/8P2zG8p5/yen-dh.png" },
                { id: 402, name: "1M Yen Pack", price: 4.99, stock: 5, img: "https://i.postimg.cc/8P2zG8p5/yen-dh.png" }
            ]
        }
    };

    let cart = [];
    let config = {
        rate: 1,
        symbol: '$',
        currency: 'USD'
    };

    /* --- MOTOR DE NAVEGACIÓN --- */
    function showView(viewId) {
        document.querySelectorAll('.view-section').forEach(s => s.classList.add('hidden'));
        document.getElementById(`view-${viewId}`).classList.remove('hidden');
        
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active-link'));
        if(event) event.target.classList.add('active-link');
        
        if(viewId === 'products') renderCategories();
        window.scrollTo(0, 0);
    }

    /* --- MOTOR DE PRECIOS --- */
    function updateCurrency(label, rate, symbol) {
        config.rate = rate;
        config.symbol = symbol;
        config.currency = label;
        document.getElementById('current-currency-label').innerText = `${symbol} ${label}`;
        renderCategories();
        updateCartUI();
    }

    /* --- RENDERIZADO DE TIENDA --- */
    function renderCategories() {
        const container = document.getElementById('category-container');
        container.innerHTML = DB.categories.map(cat => {
            const min = (cat.range[0] * config.rate).toFixed(2);
            const max = (cat.range[1] * config.rate).toFixed(2);
            const priceText = cat.range[0] === cat.range[1] ? `${config.symbol}${min}` : `${config.symbol}${min} - ${config.symbol}${max}`;
            
            return `
                <div class="crude-card p-6 flex flex-col items-center group" onclick="openCategory('${cat.id}')">
                    <img src="${cat.img}" class="w-full h-40 object-cover rounded-xl mb-6 grayscale group-hover:grayscale-0 transition duration-500">
                    <h3 class="text-lg font-black italic uppercase mb-2 tracking-tighter">${cat.name}</h3>
                    <div class="flex justify-between w-full items-center">
                        <span class="text-red-600 font-bold text-sm">${priceText}</span>
                        <span class="text-zinc-600 text-[10px] font-black uppercase">${cat.count} Products</span>
                    </div>
                    <button class="w-full mt-6 py-3 border border-red-600/20 rounded-xl text-[10px] font-black uppercase group-hover:bg-red-600 group-hover:text-white transition">View Details →</button>
                </div>
            `;
        }).join('');
    }

    function openCategory(catId) {
        const cat = DB.categories.find(c => c.id === catId);
        const prods = DB.products[catId];
        document.getElementById('cat-modal-title').innerText = cat.name;
        
        document.getElementById('product-list').innerHTML = prods.map(p => `
            <div class="bg-white/5 border border-white/5 p-4 rounded-2xl flex flex-col items-center">
                <img src="${p.img}" class="w-full h-32 object-cover rounded-lg mb-4">
                <h4 class="font-bold text-sm mb-4">${p.name}</h4>
                <div class="flex justify-between w-full items-center mb-4">
                    <span class="text-red-600 font-black">${config.symbol}${(p.price * config.rate).toFixed(2)}</span>
                    <span class="text-[10px] font-bold ${p.stock > 0 ? 'text-green-500' : 'text-red-500'}">${p.stock > 0 ? 'In Stock' : 'Out of Stock'}</span>
                </div>
                <button onclick="addToCart(${p.id}, '${catId}')" ${p.stock === 0 ? 'disabled' : ''} class="w-full py-2 bg-white/5 rounded-lg text-[10px] font-black uppercase hover:bg-red-600 transition disabled:opacity-30">Add to Cart</button>
            </div>
        `).join('');
        
        openModal('modal-category');
    }

    /* --- SISTEMA DE CARRITO --- */
    function addToCart(id, catId) {
        const prod = DB.products[catId].find(p => p.id === id);
        cart.push({...prod});
        updateCartUI();
        notify(`Added ${prod.name} to cart`);
    }

    function updateCartUI() {
        document.getElementById('cart-counter').innerText = cart.length;
        // Resumen del checkout sidebar/modal
        let total = 0;
        const container = document.getElementById('checkout-items');
        if(container) {
            container.innerHTML = cart.map((item, idx) => {
                let p = item.price * config.rate;
                total += p;
                return `
                    <div class="flex justify-between items-center text-sm">
                        <div class="flex items-center gap-3">
                            <img src="${item.img}" class="w-8 h-8 rounded">
                            <span class="font-bold">${item.name}</span>
                        </div>
                        <span class="text-zinc-500">${config.symbol}${p.toFixed(2)}</span>
                    </div>
                `;
            }).join('');
            document.getElementById('check-sub').innerText = config.symbol + total.toFixed(2);
            document.getElementById('check-total').innerText = config.symbol + total.toFixed(2);
            document.getElementById('hidden-order-data').value = cart.map(i => i.name).join(', ') + " | TOTAL: " + config.symbol + total.toFixed(2);
        }
    }

    /* --- LÓGICA DE PASOS --- */
    function goToStep(step) {
        document.getElementById('step-1-content').classList.add('hidden');
        document.getElementById('step-2-content').classList.add('hidden');
        document.getElementById(`step-${step}-content`).classList.remove('hidden');
        
        document.querySelectorAll('.step-circle').forEach(c => c.classList.remove('step-active'));
        document.getElementById(`step-${step}-cir`).classList.add('step-active');
    }

    /* --- UTILS --- */
    function openModal(id) { document.getElementById(id).classList.add('active'); }
    function closeModal(id) { document.getElementById(id).classList.remove('active'); }
    function notify(msg) {
        const n = document.createElement('div');
        n.className = "fixed bottom-5 right-5 bg-red-600 text-white px-6 py-3 rounded-xl font-black text-xs z-[2000] animate-bounce";
        n.innerText = msg;
        document.body.appendChild(n);
        setTimeout(() => n.remove(), 3000);
    }

    /* --- BACKGROUND CANVAS --- */
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let dots = [];
    function initCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        for(let i=0; i<60; i++) dots.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, vx: (Math.random()-0.5)*0.5, vy: (Math.random()-0.5)*0.5 });
        animate();
    }
    function animate() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.strokeStyle = "rgba(255, 0, 0, 0.08)";
        dots.forEach(d => {
            d.x += d.vx; d.y += d.vy;
            if(d.x<0 || d.x>canvas.width) d.vx *= -1;
            if(d.y<0 || d.y>canvas.height) d.vy *= -1;
            dots.forEach(d2 => {
                let dist = Math.hypot(d.x-d2.x, d.y-d2.y);
                if(dist < 150) { ctx.beginPath(); ctx.moveTo(d.x, d.y); ctx.lineTo(d2.x, d2.y); ctx.stroke(); }
            });
        });
        requestAnimationFrame(animate);
    }
    initCanvas();
</script>

</body>
</html>
